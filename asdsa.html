<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dashboard</title>
    <link rel="stylesheet" href="boot/css/bootstrap.min.css" />
    <link rel="stylesheet" href="boot/css/style.css" />
<link rel="stylesheet" href="boot/icons/font/bootstrap-icons.css">
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">

<script defer src="boot/js/bootstrap.bundle.min.js" ></script>
<script src="boot/js/jquery.slim.min.js"></script>

<body>

    
    <section>
        <nav class="navbar navbar-expand-lg" style="background-color: rgb(189, 241, 241);">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">TutorConnect</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="home.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="tutor_reg.html">Become A Tutor</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="student_reg.html">Be A Student</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="#">About Us</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="#">Contact</a>
                        </li>
                    </ul>
        
           
                </div>
            </div>
        </nav>
    </section>

    <div id="posts-container" class="container">
        <h2>Your Tuition Posts</h2>

        <!-- The container to display posts -->

    </div>

    <!-- Footer -->
    <footer class="footer mt-auto py-3" style="background-color: rgb(189, 241, 241);">
        <div class="container text-center">
            <span class="text-muted">TutorConnect &copy; 2023</span>
        </div>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            fetchStudentPosts();
        });

        function fetchStudentPosts() {
            const studentId = 1; // Replace with the actual student ID
            const apiUrl = `http://localhost:5068/api/post/GetPostByStudentId/${studentId}`;

            fetch(apiUrl)
                .then(response => response.json())
                .then(data => displayPosts(data))
                .catch(error => console.error('Error:', error));
        }

        function displayPosts(posts) {
            const postsContainer = document.getElementById('posts-container');
            postsContainer.innerHTML = '';

            posts.forEach(post => {
                const postCard = document.createElement('div');
                postCard.className = 'card mb-3';

                const cardBody = document.createElement('div');
                cardBody.className = 'card-body';

                const title = document.createElement('h5');
                title.className = 'card-title';
                title.textContent = post.Title;

                const description = document.createElement('p');
                description.className = 'card-text';
                description.textContent = post.Description;

                // Customize the display based on your tuition post data structure
                // Add more elements as needed (Subject, Location, ContactInformation, PostedDate, etc.)

                cardBody.appendChild(title);
                cardBody.appendChild(description);

                postCard.appendChild(cardBody);
                postsContainer.appendChild(postCard);
            });
        }
    </script>

    <!-- Bootstrap JS and Popper.js -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</body>
</html>
